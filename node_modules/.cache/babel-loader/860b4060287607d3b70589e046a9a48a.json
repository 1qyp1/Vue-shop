{"ast":null,"code":"import { USER_LOGIN, INIT_USER, LOGIN_OUT } from './mutations-type.js';\nimport { MessageBox } from 'mint-ui';\nexport default {\n  state: {\n    // 登录状态\n    loginStatus: false,\n    // token\n    token: '',\n    // 用户信息:用户的头像，用户昵称\n    userInfo: {}\n  },\n  getters: {},\n  mutations: {\n    // 将res.data进行接收(user)\n    [USER_LOGIN](state, user) {\n      // console.log(user)\n      // 进行信息存储，即在UserLogin进行信息存在，存在vuex中，然后在My中读取\n      state.loginStatus = true, state.token = user.token, state.userInfo = user; // 持久化存储=>本地存储\n\n      localStorage.setItem('teaUserInfo', JSON.stringify(user));\n    },\n\n    // 读取\n    [INIT_USER](state) {\n      let userInfo = JSON.parse(localStorage.getItem('teaUserInfo')); // 如果用户一开始就存在了\n\n      if (userInfo) {\n        state.loginStatus = true, state.token = userInfo.token, state.userInfo = userInfo;\n      }\n    },\n\n    // 退出登录\n    [LOGIN_OUT](state) {\n      MessageBox.confirm('确定退出?').then(action => {\n        state.loginStatus = false, state.token = null, state.userInfo = {}, localStorage.removeItem('teaUserInfo');\n      });\n    }\n\n  },\n  actions: {}\n};","map":{"version":3,"names":["USER_LOGIN","INIT_USER","LOGIN_OUT","MessageBox","state","loginStatus","token","userInfo","getters","mutations","user","localStorage","setItem","JSON","stringify","parse","getItem","confirm","then","action","removeItem","actions"],"sources":["D:/vue-tea/src/store/modules/user.js"],"sourcesContent":["import {USER_LOGIN,INIT_USER,LOGIN_OUT} from './mutations-type.js'\r\nimport { MessageBox } from 'mint-ui';\r\nexport default {\r\n    state:{\r\n        // 登录状态\r\n        loginStatus:false,\r\n        // token\r\n        token:'',\r\n        // 用户信息:用户的头像，用户昵称\r\n        userInfo:{},\r\n    },\r\n    getters:{\r\n        \r\n    },\r\n    mutations:{\r\n        // 将res.data进行接收(user)\r\n        [USER_LOGIN](state,user){\r\n            // console.log(user)\r\n            // 进行信息存储，即在UserLogin进行信息存在，存在vuex中，然后在My中读取\r\n            state.loginStatus = true,\r\n            state.token = user.token,\r\n            state.userInfo = user\r\n\r\n            // 持久化存储=>本地存储\r\n            localStorage.setItem('teaUserInfo',JSON.stringify(user))\r\n        },\r\n        // 读取\r\n        [INIT_USER](state){\r\n                let userInfo = JSON.parse(localStorage.getItem('teaUserInfo')) \r\n                // 如果用户一开始就存在了\r\n                if(userInfo){\r\n                    state.loginStatus = true,\r\n                    state.token = userInfo.token,\r\n                    state.userInfo = userInfo\r\n                }\r\n        },\r\n        // 退出登录\r\n        [LOGIN_OUT](state){\r\n            MessageBox.confirm('确定退出?').then(action => {\r\n                state.loginStatus = false,\r\n                state.token = null,\r\n                state.userInfo = {},\r\n                localStorage.removeItem('teaUserInfo')\r\n              });\r\n \r\n        }\r\n        \r\n    },\r\n    actions:{\r\n\r\n    },\r\n\r\n\r\n}"],"mappings":"AAAA,SAAQA,UAAR,EAAmBC,SAAnB,EAA6BC,SAA7B,QAA6C,qBAA7C;AACA,SAASC,UAAT,QAA2B,SAA3B;AACA,eAAe;EACXC,KAAK,EAAC;IACF;IACAC,WAAW,EAAC,KAFV;IAGF;IACAC,KAAK,EAAC,EAJJ;IAKF;IACAC,QAAQ,EAAC;EANP,CADK;EASXC,OAAO,EAAC,EATG;EAYXC,SAAS,EAAC;IACN;IACA,CAACT,UAAD,EAAaI,KAAb,EAAmBM,IAAnB,EAAwB;MACpB;MACA;MACAN,KAAK,CAACC,WAAN,GAAoB,IAApB,EACAD,KAAK,CAACE,KAAN,GAAcI,IAAI,CAACJ,KADnB,EAEAF,KAAK,CAACG,QAAN,GAAiBG,IAFjB,CAHoB,CAOpB;;MACAC,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAmCC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAnC;IACH,CAXK;;IAYN;IACA,CAACT,SAAD,EAAYG,KAAZ,EAAkB;MACV,IAAIG,QAAQ,GAAGM,IAAI,CAACE,KAAL,CAAWJ,YAAY,CAACK,OAAb,CAAqB,aAArB,CAAX,CAAf,CADU,CAEV;;MACA,IAAGT,QAAH,EAAY;QACRH,KAAK,CAACC,WAAN,GAAoB,IAApB,EACAD,KAAK,CAACE,KAAN,GAAcC,QAAQ,CAACD,KADvB,EAEAF,KAAK,CAACG,QAAN,GAAiBA,QAFjB;MAGH;IACR,CArBK;;IAsBN;IACA,CAACL,SAAD,EAAYE,KAAZ,EAAkB;MACdD,UAAU,CAACc,OAAX,CAAmB,OAAnB,EAA4BC,IAA5B,CAAiCC,MAAM,IAAI;QACvCf,KAAK,CAACC,WAAN,GAAoB,KAApB,EACAD,KAAK,CAACE,KAAN,GAAc,IADd,EAEAF,KAAK,CAACG,QAAN,GAAiB,EAFjB,EAGAI,YAAY,CAACS,UAAb,CAAwB,aAAxB,CAHA;MAID,CALH;IAOH;;EA/BK,CAZC;EA8CXC,OAAO,EAAC;AA9CG,CAAf"},"metadata":{},"sourceType":"module"}