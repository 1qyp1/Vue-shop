{"ast":null,"code":"import Tabbar from \"@/components/common/Tabbar.vue\";\nimport Header from \"@/components/home/Header.vue\";\nimport Swiper from \"@/components/home/Swiper.vue\";\nimport Icons from \"@/components/home/icons.vue\";\nimport Recommend from \"@/components/home/Recommend.vue\";\nimport Like from \"@/components/home/Like.vue\";\nimport Ad from \"@/components/home/Ad.vue\";\nimport http from '@/common/api/request.js'; //引入插件\n\nimport BetterScroll from \"better-scroll\";\nexport default {\n  name: \"Home\",\n  components: {\n    Tabbar,\n    Header,\n    Swiper,\n    Icons,\n    Recommend,\n    Like,\n    Ad\n  },\n\n  data() {\n    return {\n      newData: [],\n      selectedId: 0,\n      items: [],\n      options: {\n        activeColor: \"#b0352f\"\n      }\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  mounted() {},\n\n  methods: {\n    changeTab(item, index) {\n      this.addData(index);\n    },\n\n    async getData() {\n      http.$axios({\n        url: 'xxx',\n        data: {},\n        params: {}\n      });\n      let res = await http.$axios({\n        url: \"/api/index_list/0/data/1\"\n      });\n      this.items = Object.freeze(res.topBar);\n      this.newData = Object.freeze(res.data); // 当dom都加载完毕了再去执行\n\n      this.$nextTick(() => {\n        new BetterScroll(this.$refs.wrapper, {\n          click: true,\n          movable: true,\n          zoom: true\n        });\n      });\n    },\n\n    async addData(index) {\n      let res = await http.$axios({\n        url: \"/api/index_list/\" + index + \"/data/1\"\n      });\n\n      if (res.constructor != Array) {\n        this.newData = res.data;\n      } else {\n        this.newData = res;\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2C,CACA;;AACA;AACA;EACAA,YADA;EAEAC;IACAC,MADA;IAEAC,MAFA;IAGAC,MAHA;IAIAC,KAJA;IAKAC,SALA;IAMAC,IANA;IAOAC;EAPA,CAFA;;EAWAC;IACA;MACAC,WADA;MAEAC,aAFA;MAGAC,SAHA;MAIAC;QACAC;MADA;IAJA;EAQA,CApBA;;EAqBAC;IACA;EACA,CAvBA;;EAwBAC,YAxBA;;EA0BAC;IACAC;MACA;IACA,CAHA;;IAIA;MAEAC;QACAC,UADA;QAEAX,QAFA;QAGAY;MAHA;MAOA;QACAD;MADA;MAGA;MACA,uCAbA,CAcA;;MACA;QACA;UACAE,WADA;UAEAC,aAFA;UAGAC;QAHA;MAKA,CANA;IAOA,CA1BA;;IA2BA;MACA;QACAJ;MADA;;MAGA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA;;EApCA;AA1BA","names":["name","components","Tabbar","Header","Swiper","Icons","Recommend","Like","Ad","data","newData","selectedId","items","options","activeColor","created","mounted","methods","changeTab","http","url","params","click","movable","zoom"],"sourceRoot":"src/views","sources":["Home.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"headers\">\n      <div class=\"headers-main\">\n        <Header></Header>\n        <ly-tab\n          v-model=\"selectedId\"\n          :items=\"items\"\n          :options=\"options\"\n          @change=\"changeTab\"\n        >\n        </ly-tab>\n      </div>\n    </div>\n    <section ref=\"wrapper\">\n      <div>\n        <div v-for=\"(item, index) in newData\" :key=\"index\">\n          <Swiper\n            v-if=\"item.type == 'swiperList'\"\n            :swiperList=\"item.data\"\n          ></Swiper>\n\n          <Icons v-if=\"item.type == 'iconsList'\" :iconsList=\"item.data\"></Icons>\n\n          <Recommend\n            v-if=\"item.type == 'recommendList'\"\n            :recommendList=\"item.data\"\n          ></Recommend>\n\n          <Like v-if=\"item.type == 'likeList'\" :likeList=\"item.data\"></Like>\n          <Ad v-if=\"item.type == 'adList'\" :adList=\"item.data\"></Ad>\n        </div>\n      </div>\n    </section>\n    <!-- {{item.type}} -->\n    <Tabbar></Tabbar>\n  </div>\n</template>\n\n<script>\nimport Tabbar from \"@/components/common/Tabbar.vue\";\nimport Header from \"@/components/home/Header.vue\";\nimport Swiper from \"@/components/home/Swiper.vue\";\nimport Icons from \"@/components/home/icons.vue\";\nimport Recommend from \"@/components/home/Recommend.vue\";\nimport Like from \"@/components/home/Like.vue\";\nimport Ad from \"@/components/home/Ad.vue\";\nimport http from '@/common/api/request.js';\n//引入插件\nimport BetterScroll from \"better-scroll\";\nexport default {\n  name: \"Home\",\n  components: {\n    Tabbar,\n    Header,\n    Swiper,\n    Icons,\n    Recommend,\n    Like,\n    Ad,\n  },\n  data() {\n    return {\n      newData: [],\n      selectedId: 0,\n      items: [],\n      options: {\n        activeColor: \"#b0352f\",\n      },\n    };\n  },\n  created() {\n    this.getData();\n  },\n  mounted() {},\n\n  methods: {\n    changeTab(item, index) {\n      this.addData(index);\n    },\n    async getData() {\n      \n      http.$axios({\n        url:'xxx',\n        data:{},\n        params:{}\n      })\n\n      \n      let res = await http.$axios({\n        url: \"/api/index_list/0/data/1\",\n      });\n      this.items = Object.freeze(res.topBar);\n      this.newData = Object.freeze(res.data);\n      // 当dom都加载完毕了再去执行\n      this.$nextTick(() => {\n        new BetterScroll(this.$refs.wrapper, {\n          click:true,\n          movable: true,\n          zoom: true,\n        });\n      });\n    },\n    async addData(index) {\n      let res = await http.$axios({\n        url: \"/api/index_list/\" + index + \"/data/1\",\n      });\n      if (res.constructor != Array) {\n        this.newData = res.data;\n      } else {\n        this.newData = res;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.home {\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n}\n.headers {\n  width: 100%;\n  height: 2.88rem;\n}\n.headers-main {\n  position: fixed;\n  left: 0;\n  top: 0;\n}\nsection {\n  margin-top: 40px;\n  flex: 1;\n  overflow: hidden;\n}\n::v-deep .ly-tabbar {\n  box-shadow: none;\n  border-bottom: none;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}