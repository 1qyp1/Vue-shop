{"ast":null,"code":"import Header from \"@/components/path/Header.vue\";\nimport Tabbar from \"@/components/common/Tabbar.vue\";\nimport http from \"@/common/api/request.js\";\nimport { mapState, mapMutations } from \"vuex\";\nimport bus from '@/common/bus.js';\nexport default {\n  data() {\n    return {\n      pathStatus: false\n    };\n  },\n\n  components: {\n    Header,\n    Tabbar\n  },\n\n  created() {\n    //从订单页面进来的\n    if (this.$route.query.type == \"select\") {\n      // 做一个标记\n      this.pathStatus = true;\n    }\n\n    this.getData();\n  },\n\n  computed: { ...mapState({\n      list: state => state.path.list\n    })\n  },\n  methods: { ...mapMutations([\"initData\"]),\n\n    getData() {\n      http.$axios({\n        url: \"/api/selectAddress\",\n        method: \"post\",\n        headers: {\n          token: true\n        }\n      }).then(res => {\n        this.initData(res.data);\n      });\n    },\n\n    goList(option) {\n      //this.pathStatus为true代表从订单页面进入的：选择状态\n      if (this.pathStatus) {\n        bus.$emit(\"selectPath\", JSON.stringify(option));\n        this.$router.back();\n        return;\n      }\n\n      this.$router.push({\n        name: \"path-list\",\n        params: {\n          key: JSON.stringify(option)\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2BA;AACA;AACA;AACA;AACA;AACA;EACAA;IACA;MACAC;IADA;EAGA,CALA;;EAMAC;IACAC,MADA;IAEAC;EAFA,CANA;;EAUAC;IACA;IACA;MACA;MACA;IACA;;IACA;EACA,CAjBA;;EAkBAC,YACA;MACAC;IADA;EADA,CAlBA;EAuBAC,WACA,6BADA;;IAEAC;MACAC,KACAC,MADA,CACA;QACAC,yBADA;QAEAC,cAFA;QAGAC;UACAC;QADA;MAHA,CADA,EAQAC,IARA,CAQAC;QACA;MACA,CAVA;IAWA,CAdA;;IAeAC;MACA;MACA;QACAC;QACA;QACA;MACA;;MACA;QACAC,iBADA;QAEAC;UACAC;QADA;MAFA;IAMA;;EA5BA;AAvBA","names":["data","pathStatus","components","Header","Tabbar","created","computed","list","methods","getData","http","$axios","url","method","headers","token","then","res","goList","bus","name","params","key"],"sourceRoot":"src/views/path","sources":["Path-Index.vue"],"sourcesContent":["<template>\r\n  <div class=\"path-index container\">\r\n    <Header></Header>\r\n    <section>\r\n      <ul v-if=\"list.length\">\r\n        <li v-for=\"(item, index) in list\" :key=\"index\" @click=\"goList(item)\">\r\n          <div>\r\n            <span>{{ item.name }}</span>\r\n            <span>{{ item.tel }}</span>\r\n          </div>\r\n          <div class=\"city\">\r\n            <span class=\"active\" v-if=\"item.isDefault == 1\">[默认]</span>\r\n            <span>{{ item.province }}</span>\r\n            <span>{{ item.city }}</span>\r\n            <span>{{ item.county }}</span>\r\n            <span>{{ item.addressDetail }}</span>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <h1 v-else>暂无数据，请添加地址</h1>\r\n      <div class=\"add-path\" @click=\"goList('add')\">添加地址</div>\r\n    </section>\r\n    <Tabbar></Tabbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from \"@/components/path/Header.vue\";\r\nimport Tabbar from \"@/components/common/Tabbar.vue\";\r\nimport http from \"@/common/api/request.js\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\nimport bus from '@/common/bus.js'\r\nexport default {\r\n  data() {\r\n    return {\r\n      pathStatus: false,\r\n    };\r\n  },\r\n  components: {\r\n    Header,\r\n    Tabbar,\r\n  },\r\n  created() {\r\n    //从订单页面进来的\r\n    if (this.$route.query.type == \"select\") {\r\n        // 做一个标记\r\n      this.pathStatus = true;\r\n    }\r\n    this.getData();\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      list: (state) => state.path.list,\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"initData\"]),\r\n    getData() {\r\n      http\r\n        .$axios({\r\n          url: \"/api/selectAddress\",\r\n          method: \"post\",\r\n          headers: {\r\n            token: true,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          this.initData(res.data);\r\n        });\r\n    },\r\n    goList(option) {\r\n      //this.pathStatus为true代表从订单页面进入的：选择状态\r\n      if (this.pathStatus) {\r\n        bus.$emit(\"selectPath\", JSON.stringify(option));\r\n        this.$router.back();\r\n        return;\r\n      }\r\n      this.$router.push({\r\n        name: \"path-list\",\r\n        params: {\r\n          key: JSON.stringify(option),\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\nsection {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  background-color: #f7f7f7;\r\n  ul {\r\n    width: 100%;\r\n    li {\r\n      border-radius: 15px;\r\n      padding: 10px 10px;\r\n      margin: 10px 0;\r\n      background-color: #ffffff;\r\n      span {\r\n        padding-right: 0.4rem;\r\n        font-size: 14px;\r\n      }\r\n      .active {\r\n        color: #b0352f;\r\n      }\r\n    }\r\n  }\r\n  .add-path {\r\n    margin-top: 10px;\r\n    width: 80px;\r\n    line-height: 30px;\r\n    font-size: 15px;\r\n    text-align: center;\r\n    color: #ffffff;\r\n    background-color: #b0352f;\r\n    border-radius: 6px;\r\n  }\r\n}\r\n::v-deep .tabbar {\r\n  border-top: 2px solid #ccc;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}