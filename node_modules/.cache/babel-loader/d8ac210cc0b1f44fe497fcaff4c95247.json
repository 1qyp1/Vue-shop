{"ast":null,"code":"import Tabbar from \"@/components/common/Tabbar.vue\";\nimport Header from \"@/components/search/Header.vue\";\nimport Like from \"@/components/home/Like.vue\";\nimport { MessageBox } from \"mint-ui\";\nexport default {\n  data() {\n    return {\n      searchArr: []\n    };\n  },\n\n  components: {\n    Tabbar,\n    Header,\n    Like\n  },\n\n  created() {\n    this.searchArr = JSON.parse(localStorage.getItem(\"searchList\")) || [];\n  },\n\n  methods: {\n    deleteStorage() {\n      MessageBox({\n        title: \"提示\",\n        message: \"确定执行此操作?\",\n        showCancelButton: true\n      }).then(res => {\n        if (res == \"confirm\") {\n          // 删除本地存储\n          localStorage.removeItem(\"searchList\"); //清除数据\n\n          this.searchArr = [];\n        }\n      });\n    },\n\n    // 点击历史结果，进入结果页面\n    goSearchList(item) {\n      this.$router.push({\n        name: \"list\",\n        query: {\n          key: item\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2BA;AACA;AACA;AACA;AACA;EACAA;IACA;MACAC;IADA;EAGA,CALA;;EAMAC;IACAC,MADA;IAEAC,MAFA;IAGAC;EAHA,CANA;;EAWAC;IACA;EACA,CAbA;;EAcAC;IACAC;MACAC;QACAC,WADA;QAEAC,mBAFA;QAGAC;MAHA,GAIAC,IAJA,CAIAC;QACA;UACA;UACAC,sCAFA,CAGA;;UACA;QACA;MACA,CAXA;IAYA,CAdA;;IAeA;IACAC;MACA;QACAC,YADA;QAEAC;UACAC;QADA;MAFA;IAMA;;EAvBA;AAdA","names":["data","searchArr","components","Tabbar","Header","Like","created","methods","deleteStorage","MessageBox","title","message","showCancelButton","then","res","localStorage","goSearchList","name","query","key"],"sourceRoot":"src/views/search","sources":["Search-index.vue"],"sourcesContent":["<template>\r\n  <div class=\"search-index\">\r\n    <Header></Header>\r\n    <section>\r\n      <div class=\"section-history\" v-if=\"searchArr.length\">\r\n        <h2>\r\n          <i class=\"iconfont icon-31shijian\"></i>\r\n          <span>历史搜索</span>\r\n          <span @click=\"deleteStorage\">清空清理记录</span>\r\n        </h2>\r\n        <ul>\r\n          <li\r\n            v-for=\"(item, index) in searchArr\"\r\n            :key=\"index\"\r\n            @click=\"goSearchList(item)\"\r\n          >\r\n            {{ item }}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div v-else>暂无搜索</div>\r\n    </section>\r\n    <Tabbar></Tabbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Tabbar from \"@/components/common/Tabbar.vue\";\r\nimport Header from \"@/components/search/Header.vue\";\r\nimport Like from \"@/components/home/Like.vue\";\r\nimport { MessageBox } from \"mint-ui\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchArr: [],\r\n    };\r\n  },\r\n  components: {\r\n    Tabbar,\r\n    Header,\r\n    Like,\r\n  },\r\n  created() {\r\n    this.searchArr = JSON.parse(localStorage.getItem(\"searchList\")) || [];\r\n  },\r\n  methods: {\r\n    deleteStorage() {\r\n      MessageBox({\r\n        title: \"提示\",\r\n        message: \"确定执行此操作?\",\r\n        showCancelButton: true,\r\n      }).then((res) => {\r\n        if (res == \"confirm\") {\r\n          // 删除本地存储\r\n          localStorage.removeItem(\"searchList\");\r\n          //清除数据\r\n          this.searchArr = [];\r\n        }\r\n      });\r\n    },\r\n    // 点击历史结果，进入结果页面\r\n    goSearchList(item) {\r\n      this.$router.push({\r\n        name: \"list\",\r\n        query: {\r\n          key: item,\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.search-index {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\nsection {\r\n  flex: 1;\r\n  background-color: #f5f5f5f5;\r\n  overflow: hidden;\r\n}\r\n\r\n.section-history h2 {\r\n  position: relative;\r\n  font-size: 18px;\r\n  font-weight: 500;\r\n  padding: 15px;\r\n}\r\n.section-history h2 span:last-child {\r\n  position: absolute;\r\n  right: 5px;\r\n}\r\n.section-history h2 i {\r\n  color: red;\r\n  padding-right: 3px;\r\n  font-size: 19px;\r\n}\r\n.section-history ul {\r\n  padding: 5px 10px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n.section-history ul li {\r\n  border: 1px solid #ccc;\r\n  font-size: 13px;\r\n  padding: 3px 6px;\r\n  margin: 10px;\r\n}\r\n</style>\r\n<style scoped>"]},"metadata":{},"sourceType":"module"}